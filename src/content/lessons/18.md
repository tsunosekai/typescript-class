---
title: "コンポーネントを理解しよう"
lesson: 18
goal: "コンポーネントの考え方と分割の仕方を理解する"
time: "約35分"
checklist:
  - "コンポーネントとは何かがわかった"
  - "なぜ分けるのかがわかった"
  - "自分でコンポーネントを作れた"
---


<details>
<summary>💡 AIに質問するときはここをクリック</summary>

ChatGPTやClaudeなどのAIに質問するときは、以下をコピーして最初に貼り付けてね！

```
【TypeScript講座 学習状況】
現在地: 第18回「コンポーネントを理解しよう」

■ 学習済みの内容:
- VSCode、ターミナル、Node.js 24 LTS
- HTML/CSSの基本、Flexbox
- TypeScriptの基礎（変数、型、if文、for文、関数、配列、オブジェクト）
- DOM操作、イベント処理
- React基礎:
  - Viteでプロジェクト作成（npm create vite）
  - JSX（HTMLに似た書き方）
  - className（classの代わり）
  - {} で変数を埋め込む
  - style={{ }} でスタイルを書く
  - npm run dev で開発サーバー起動
- 【作品①】自己紹介ページ
- 【作品②】じゃんけんゲーム
- 【作品③】クイズゲーム

■ まだ習っていない内容:
useState、props など（これから学びます）

上記の学習状況を踏まえて、初心者にも分かるように答えてください。
まだ習っていない概念は使わないでください。

【質問】
ここに質問を書いてね
```

</details>

> **この回で学ぶこと**
> - コンポーネントとは何か
> - なぜコンポーネントに分けるのか
> - コンポーネントの作り方
> - コンポーネントツリーの考え方

---

## はじめに

前回、ReactでJSXを使って画面を作りました。

でも、すべてのコードを1つの関数に書いていると、どんどん長くなってしまいます。

今回は「**コンポーネント**」という考え方を学んで、コードを整理する方法を覚えましょう！

---

## コンポーネントとは？

**コンポーネント**は、画面を構成する「**部品**」です。

たとえば、このようなWebページを考えてみましょう：

```
┌─────────────────────────────────┐
│         ヘッダー                 │
├─────────────────────────────────┤
│                                 │
│    プロフィールカード            │
│                                 │
├─────────────────────────────────┤
│  スキル1  │  スキル2  │  スキル3 │
├─────────────────────────────────┤
│         フッター                 │
└─────────────────────────────────┘
```

これをコンポーネントに分けると：

- `Header` コンポーネント
- `ProfileCard` コンポーネント
- `SkillCard` コンポーネント（3回使う）
- `Footer` コンポーネント

それぞれの部品を別々に作って、組み合わせるイメージです。

---

## STEP 1: プロジェクトを開く

### 1-1. VSCodeを起動する

デスクトップのVSCodeアイコンをダブルクリックして、VSCodeを起動します。

### 1-2. プロジェクトフォルダを開く

**「ファイル」→「フォルダーを開く」** から、デスクトップの `react-shindan` フォルダを開きます。

### 1-3. 開発サーバーを起動

ターミナルを開いて：

```
npm run dev
```

ブラウザで `http://localhost:5173/` を開きます。

---

## STEP 2: なぜコンポーネントに分けるの？

### 理由①: コードが整理される

全部を1つの関数に書くと…

```tsx
// ❌ 長くて読みにくい
function App() {
    return (
        <div>
            <header>
                <h1>サイト名</h1>
                <nav>
                    <a href="/">ホーム</a>
                    <a href="/about">概要</a>
                </nav>
            </header>
            <main>
                <div className="profile">
                    <img src="..." />
                    <h2>名前</h2>
                    <p>自己紹介...</p>
                </div>
                <div className="skills">
                    <div className="skill">
                        <h3>HTML</h3>
                        <p>説明...</p>
                    </div>
                    <div className="skill">
                        <h3>CSS</h3>
                        <p>説明...</p>
                    </div>
                    {/* まだまだ続く... */}
                </div>
            </main>
            <footer>
                <p>© 2024</p>
            </footer>
        </div>
    );
}
```

コンポーネントに分けると…

```tsx
// ✅ スッキリ！
function App() {
    return (
        <div>
            <Header />
            <ProfileCard />
            <SkillList />
            <Footer />
        </div>
    );
}
```

### 理由②: 再利用できる

同じ部品を何度も使えます：

```tsx
function App() {
    return (
        <div>
            <SkillCard />  {/* 1回目 */}
            <SkillCard />  {/* 2回目 */}
            <SkillCard />  {/* 3回目 */}
        </div>
    );
}
```

### 理由③: 分担しやすい

チームで開発するとき、「ヘッダーはAさん」「プロフィールはBさん」と分担できます。

---

## STEP 3: コンポーネントを作ってみよう

### 3-1. 基本の形

コンポーネントは「**関数**」です：

```tsx
// コンポーネントの基本形
function コンポーネント名() {
    return (
        <div>
            {/* 表示したい内容 */}
        </div>
    );
}
```

**重要なルール:**
- 名前は**大文字で始める**（`Header`、`ProfileCard` など）
- `return` でJSXを返す

### 3-2. 実際に作ってみる

`src/App.tsx` を書き換えます：

```tsx
// ヘッダーコンポーネント
function Header() {
    return (
        <header style={{
            backgroundColor: "#2563eb",
            color: "white",
            padding: "20px",
            textAlign: "center"
        }}>
            <h1>マイポートフォリオ</h1>
        </header>
    );
}

// フッターコンポーネント
function Footer() {
    return (
        <footer style={{
            backgroundColor: "#1e293b",
            color: "white",
            padding: "15px",
            textAlign: "center",
            marginTop: "auto"
        }}>
            <p>© 2024 山田太郎</p>
        </footer>
    );
}

// メインのAppコンポーネント
function App() {
    return (
        <div style={{
            minHeight: "100vh",
            display: "flex",
            flexDirection: "column"
        }}>
            <Header />

            <main style={{ flex: 1, padding: "20px" }}>
                <p>メインコンテンツがここに入ります</p>
            </main>

            <Footer />
        </div>
    );
}

export default App;
```

**`Ctrl + S`** で保存して、ブラウザで確認！

![screenshot: ヘッダーとフッター](/images/header-footer.svg)

---

## STEP 4: プロフィールカードを作る

もう少し実用的なコンポーネントを作りましょう。

```tsx
// プロフィールカードコンポーネント
function ProfileCard() {
    return (
        <div style={{
            backgroundColor: "white",
            borderRadius: "12px",
            padding: "30px",
            maxWidth: "400px",
            margin: "20px auto",
            boxShadow: "0 2px 8px rgba(0,0,0,0.1)",
            textAlign: "center"
        }}>
            <div style={{
                width: "100px",
                height: "100px",
                borderRadius: "50%",
                backgroundColor: "#e2e8f0",
                margin: "0 auto 15px",
                display: "flex",
                alignItems: "center",
                justifyContent: "center",
                fontSize: "40px"
            }}>
                👤
            </div>
            <h2 style={{ margin: "0 0 10px 0" }}>山田太郎</h2>
            <p style={{ color: "#64748b", margin: "0 0 15px 0" }}>
                Web開発を勉強中の高校生
            </p>
            <p style={{ color: "#94a3b8", fontSize: "14px" }}>
                TypeScriptとReactを学んでいます！
            </p>
        </div>
    );
}

// ヘッダーコンポーネント
function Header() {
    return (
        <header style={{
            backgroundColor: "#2563eb",
            color: "white",
            padding: "20px",
            textAlign: "center"
        }}>
            <h1 style={{ margin: 0 }}>マイポートフォリオ</h1>
        </header>
    );
}

// フッターコンポーネント
function Footer() {
    return (
        <footer style={{
            backgroundColor: "#1e293b",
            color: "white",
            padding: "15px",
            textAlign: "center"
        }}>
            <p style={{ margin: 0 }}>© 2024 山田太郎</p>
        </footer>
    );
}

// メインのAppコンポーネント
function App() {
    return (
        <div style={{
            minHeight: "100vh",
            display: "flex",
            flexDirection: "column",
            backgroundColor: "#f1f5f9"
        }}>
            <Header />

            <main style={{ flex: 1, padding: "20px" }}>
                <ProfileCard />
            </main>

            <Footer />
        </div>
    );
}

export default App;
```

**`Ctrl + S`** で保存して確認！

![screenshot: プロフィールカード](/images/profile-card-component.svg)

---

## STEP 5: コンポーネントツリーを理解する

Reactのコンポーネントは「**ツリー構造**」になっています。

```
App（親）
├── Header（子）
├── main
│   └── ProfileCard（孫）
└── Footer（子）
```

- `App` が一番上の「**親コンポーネント**」
- `Header`、`Footer` は `App` の「**子コンポーネント**」
- `ProfileCard` は `main` の中にある

この親子関係を意識すると、コードの構造がわかりやすくなります。

---

## STEP 6: スキルカードを作る

同じコンポーネントを複数回使ってみましょう。

```tsx
// スキルカードコンポーネント
function SkillCard() {
    return (
        <div style={{
            backgroundColor: "white",
            borderRadius: "8px",
            padding: "20px",
            textAlign: "center",
            boxShadow: "0 1px 3px rgba(0,0,0,0.1)"
        }}>
            <div style={{ fontSize: "32px", marginBottom: "10px" }}>
                💻
            </div>
            <h3 style={{ margin: "0 0 8px 0" }}>プログラミング</h3>
            <p style={{ color: "#64748b", margin: 0, fontSize: "14px" }}>
                TypeScript / React
            </p>
        </div>
    );
}

// プロフィールカードコンポーネント
function ProfileCard() {
    return (
        <div style={{
            backgroundColor: "white",
            borderRadius: "12px",
            padding: "30px",
            maxWidth: "400px",
            margin: "20px auto",
            boxShadow: "0 2px 8px rgba(0,0,0,0.1)",
            textAlign: "center"
        }}>
            <div style={{
                width: "100px",
                height: "100px",
                borderRadius: "50%",
                backgroundColor: "#e2e8f0",
                margin: "0 auto 15px",
                display: "flex",
                alignItems: "center",
                justifyContent: "center",
                fontSize: "40px"
            }}>
                👤
            </div>
            <h2 style={{ margin: "0 0 10px 0" }}>山田太郎</h2>
            <p style={{ color: "#64748b", margin: 0 }}>
                Web開発を勉強中の高校生
            </p>
        </div>
    );
}

// ヘッダーコンポーネント
function Header() {
    return (
        <header style={{
            backgroundColor: "#2563eb",
            color: "white",
            padding: "20px",
            textAlign: "center"
        }}>
            <h1 style={{ margin: 0 }}>マイポートフォリオ</h1>
        </header>
    );
}

// フッターコンポーネント
function Footer() {
    return (
        <footer style={{
            backgroundColor: "#1e293b",
            color: "white",
            padding: "15px",
            textAlign: "center"
        }}>
            <p style={{ margin: 0 }}>© 2024 山田太郎</p>
        </footer>
    );
}

// メインのAppコンポーネント
function App() {
    return (
        <div style={{
            minHeight: "100vh",
            display: "flex",
            flexDirection: "column",
            backgroundColor: "#f1f5f9"
        }}>
            <Header />

            <main style={{ flex: 1, padding: "20px" }}>
                <ProfileCard />

                <h2 style={{ textAlign: "center", marginTop: "30px" }}>スキル</h2>
                <div style={{
                    display: "grid",
                    gridTemplateColumns: "repeat(3, 1fr)",
                    gap: "15px",
                    maxWidth: "600px",
                    margin: "0 auto"
                }}>
                    <SkillCard />
                    <SkillCard />
                    <SkillCard />
                </div>
            </main>

            <Footer />
        </div>
    );
}

export default App;
```

**`Ctrl + S`** で保存！

![screenshot: スキルカード3つ](/images/skill-cards.svg)

同じ `<SkillCard />` を3回書くだけで、3つのカードが表示されました！

---

## 今のコードの問題点

でも、よく見ると3つのスキルカードが**全部同じ内容**ですね。

「HTML」「CSS」「React」のように、それぞれ違う内容を表示したい！

そのためには「**props**」という仕組みを使います。

これは次回学びましょう！

---

## コンポーネントを分ける基準

「どこで分ければいいの？」と迷ったら、以下を参考にしてください：

### 分けるとよい場合

| 状況 | 例 |
|-----|-----|
| **繰り返し使う部品** | ボタン、カード、リストアイテム |
| **まとまった機能** | ヘッダー、フッター、ナビゲーション |
| **独立した領域** | サイドバー、モーダル、フォーム |

### 分けすぎに注意

最初から細かく分けすぎる必要はありません。

「このコードが長くなってきたな」「この部分を使い回したいな」と感じたときに分けるので大丈夫です。

---

## まとめ

この回でやったこと：

- ✅ コンポーネントは「画面の部品」
- ✅ コードが整理されて再利用できる
- ✅ 関数で定義し、名前は大文字で始める
- ✅ コンポーネントツリーで親子関係がある
- ✅ 同じコンポーネントを複数回使える

---

## 次回予告

次回は「**データを渡そう（props）**」です。

今は3つのスキルカードが全部同じでしたね。propsを使えば、それぞれ違う内容を表示できるようになります！

---

## 練習問題（やってみよう）

1. `Header` の背景色を好きな色に変えてみよう
2. `SkillCard` を5つに増やしてみよう
3. 新しいコンポーネント `SocialLinks` を作って、SNSリンクを表示してみよう

保存（`Ctrl + S`）すると自動で更新されます！
